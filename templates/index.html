{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block main %}
    <table class="table table-striped table-responsive table-fixed">
        <thead class="thead-light">
            <tr>
                <th scope="col" class="text-start">Chinese Name</th>
                <th scope="col" class="text-start">Pin Yin</th>
                <th scope="col" class="text-start">Amount(g)</th>
                <th scope="col" class="text-start" colspan="3"></th>
            </tr>
        </thead>
        <tbody>
            {% if rows %}
                {% for row in rows %}
                    <tr>
                        <th scope="row" class="text-start">{{ row.Chinese_ch }}</td>
                        <td class="text-start">{{ row.pinyin }}</td>
                        <form action="manage" name="myform" method="post">
                            <td class="text-start">
                                <!--div class="mb-3 ">                                   
                                    <input class="form-control w-25" id="quantity" name="quantity" value="{{ row.amount }}" type="number" data-toggle="tooltip" data-placement="bottom" title="The final amount after updating.">
                                </div>
                            </td>                            
                            <td class="test-start">
                                <input class="btn btn-outline-primary" type="submit" value="Change"-->
                                <div class="form-row align-items-center">
                                    <div class="col-5">
                                        <input class="form-control mb-2" id="quantity" rel="txtTooltip" name="quantity" value="{{ row.amount }}" type="number" data-bs-toggle="tooltip" data-bs-placement="top" title="The final amount after updating.">
                                        <button class=" btn-outline-primary my-2 my-sm-0" type="submit">Change</button>
                                        <input name="id" type="hidden" value="{{ row.id }}">
                                    </div>

                                </div>
                            </td>                           
                        </form>
                        <form action="remove" method="POST">
                            <td class="text-start">                               
                                <div class="mb-3">
                                    <input name="id" type="hidden" value="{{ row.id }}">
                                </div>
                            </td>
                            <td class="test-start">
                                <input class=" btn-outline-danger" type="submit" onclick="return confirm('Are you sure you want to delete this herb?')" value="-">
                            </td>
                        </form>
                    </tr>
                {% endfor %}
            {% endif %}
            <button onclick="topFunction()" id="myBtn" title="Go To Top">Top</button>
            <tfoot>
            
        </tfoot>
            <script>
                
                // Get the button
                let mybutton = document.getElementById("myBtn");

                // When the user scrolls down 20 px from the top of the document, show the button
                window.onscroll = function() {scrollFunction()};

                function scrollFunction() {
                    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                        mybutton.style.display = "block";
                    }
                    else {
                        mybutton.style.display = "none";
                    }
                }

                // When the user clicks on the button, scroll to the top of the document
                function topFunction() {
                    document.body.scrollTop = 0;
                    document.documentElement.scrollTop = 0;
                }
                
            </script>
            
        </tbody>
    </table>
{% endblock %}
